#+TITLE: gosh & bbm: 计算化学工具箱
#+AUTHOR: Wenping Guo
#+OPTIONS: toc:nil num:nil ^:{} indent:t

* 简介
`gosh` 是一个命令行工具和交互式 REPL (读取-求值-打印循环) 环境, 专为计算化学工作流程中的分子结构操作和处理而设计. 它利用 =gchemol= Rust 库进行核心的分子操作.

`bbm` (黑箱模型运行器) 是一个配套的命令行工具, 作为外部计算化学程序(如 VASP, Gaussian, ORCA 等)的通用运行器. 它使用预定义的模板 (=bbm-templates=) 来生成输入文件、执行计算并解析结果, 从而简化运行各种模拟任务的过程.

`gosh` 和 `bbm` 共同提供了一个灵活的平台, 用于准备、运行和分析计算化学任务.

* 核心特性
**gosh (交互式 Shell &amp; 脚本):**
- 加载、保存和转换多种分子文件格式 (xyz, mol2, cif, poscar, checkpoint-db 等).
- 交互式结构编辑: 重建化学键、清理几何构型、原子选择、冻结原子.
- 晶体结构操作: 创建超胞、根据边界盒构建晶格、解除晶体周期性.
- 使用模板进行自定义输出格式化.
- 可编写脚本以自动化重复性任务.

**bbm (黑箱模型运行器):**
- 使用预定义模板运行外部计算化学软件.
- 支持单分子和批处理模式计算 (=--bunch=).
- 内置使用 LBFGS 的几何优化功能 (=--opt=).
- 检查点机制用于保存/重启计算.
- 空跑模式 (=--dry-run=) 用于测试输入文件生成.
- 灵活的模板系统 (参见 [[https://github.com/ybyygu/bbm-templates][bbm-templates]] 代码库).

* 安装
我们提供了 gosh & bbm Linux 下 二进行可执行程序. 请从[[https://github.com/ybyygu/bbm-templates/tree/master/bin][这里]]下载后, 置于可执行程序路径, 如 ~/.local/bin 中.

验证安装:

#+BEGIN_SRC bash
gosh --version
bbm --version
#+END_SRC

* 快速入门
**1. 使用 gosh REPL:**

启动交互式 shell:
#+BEGIN_SRC bash
gosh
#+END_SRC

在 REPL 中:
#+BEGIN_SRC gosh
gosh> load molecule.xyz  # 加载一个分子
gosh> # ... 执行选择、冻结、清理等操作 ...
gosh> write molecule_modified.cif # 保存为另一种格式
gosh> quit
#+END_SRC

**2. 使用 bbm 运行器:**

假设您已经下载或克隆了 =bbm-templates= 代码库, 并且在 =~/bbm-templates/vasp/static= 中有一个 VASP 单点计算模板:

#+BEGIN_SRC bash
# 为 structure.poscar 运行 VASP 单点计算
bbm structure.poscar --bbm-dir ~/bbm-templates/vasp/static --output result.vaspout
#+END_SRC

* 文档结构
- [[file:user-guide/gosh-shell.org][用户指南: gosh Shell]]
- [[file:user-guide/bbm-runner.org][用户指南: bbm 运行器]]
- [[file:user-guide/file-formats.org][用户指南: 文件格式与格式化]]
- [[file:user-guide/workflows.org][用户指南: 工作流程示例]]
- [[file:technical-guide/architecture.org][技术指南: 架构概览]]
- [[file:technical-guide/bbm-templates.org][技术指南: BBM 模板详解]]
